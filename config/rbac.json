{
  "roles": {
    "SUPER_ADMIN": {
      "name": "Super Administrator",
      "description": "Ultimate system access with all privileges (equivalent to SYSTEM_ADMIN, SYS_ADMIN)",
      "level": 0,
      "database": "master",
      "permissions": ["*"],
      "aliases": ["SYSTEM_ADMIN", "SYS_ADMIN"]
    },
    "SYSTEM_ADMIN": {
      "name": "System Administrator", 
      "description": "Full system access across all trusts (equivalent to SUPER_ADMIN, SYS_ADMIN)",
      "level": 0,
      "database": "master",
      "permissions": ["*"],
      "aliases": ["SUPER_ADMIN", "SYS_ADMIN"]
    },
    "SYS_ADMIN": {
      "name": "System Administrator",
      "description": "Full system access across all trusts (equivalent to SUPER_ADMIN, SYSTEM_ADMIN)",
      "level": 0,
      "database": "master", 
      "permissions": ["*"],
      "aliases": ["SUPER_ADMIN", "SYSTEM_ADMIN"]
    },
    "GROUP_ADMIN": {
      "name": "Group Administrator", 
      "description": "Manage multiple trusts under a group (equivalent to TRUST_ADMIN)",
      "level": 1,
      "database": "master",
      "permissions": [
        "trusts:read",
        "trusts:create", 
        "trusts:update",
        "schools:read",
        "schools:create",
        "schools:update",
        "users:read",
        "users:create",
        "users:update",
        "students:read",
        "students:create",
        "students:update", 
        "fees:read",
        "fees:create",
        "fees:update",
        "attendance:read",
        "reports:read",
        "setup:read",
        "setup:update"
      ],
      "aliases": ["TRUST_ADMIN"]
    },
    "TRUST_ADMIN": {
      "name": "Trust Administrator",
      "description": "Manage all schools within a trust (equivalent to GROUP_ADMIN)",
      "level": 1,
      "database": "trust",
      "permissions": [
        "trusts:read",
        "trusts:create",
        "trusts:update", 
        "schools:read",
        "schools:create",
        "schools:update",
        "users:read",
        "users:create",
        "users:update",
        "students:read",
        "students:create",
        "students:update",
        "fees:read",
        "fees:create",
        "fees:update",
        "attendance:read",
        "reports:read",
        "setup:read",
        "setup:update"
      ],
      "aliases": ["GROUP_ADMIN"]
    },
    "SCHOOL_ADMIN": {
      "name": "School Administrator",
      "description": "Manage single school operations",
      "level": 2,
      "database": "trust",
      "permissions": [
        "users:read",
        "users:create",
        "users:update",
        "students:read",
        "students:create", 
        "students:update",
        "fees:read",
        "fees:create",
        "fees:update",
        "attendance:read",
        "attendance:create",
        "attendance:update",
        "reports:read",
        "communications:read",
        "communications:create"
      ]
    },
    "TEACHER": {
      "name": "Teacher",
      "description": "Manage students and attendance for assigned classes",
      "level": 3,
      "database": "trust",
      "permissions": [
        "students:read",
        "students:update",
        "attendance:read",
        "attendance:create",
        "attendance:update",
        "reports:read",
        "communications:read"
      ]
    },
    "ACCOUNTANT": {
      "name": "Accountant",
      "description": "Manage fee collection and financial records",
      "level": 6,
      "database": "trust",
      "permissions": [
        "students:read",
        "fees:read",
        "fees:create",
        "fees:update",
        "reports:read"
      ]
    },
    "PARENT": {
      "name": "Parent/Guardian",
      "description": "View child's records and make payments",
      "level": 7,
      "database": "trust",
      "permissions": [
        "students:read:own",
        "fees:read:own",
        "fees:create:own",
        "attendance:read:own",
        "communications:read"
      ]
    }
  },
  
  "resources": {
    "trusts": {
      "name": "Trust Management",
      "actions": ["read", "create", "update", "delete"]
    },
    "schools": {
      "name": "School Management", 
      "actions": ["read", "create", "update", "delete"]
    },
    "users": {
      "name": "User Management",
      "actions": ["read", "create", "update", "delete"]
    },
    "students": {
      "name": "Student Management",
      "actions": ["read", "create", "update", "delete"]
    },
    "fees": {
      "name": "Fee Management",
      "actions": ["read", "create", "update", "delete"]
    },
    "attendance": {
      "name": "Attendance Management",
      "actions": ["read", "create", "update", "delete"]
    },
    "reports": {
      "name": "Reports",
      "actions": ["read", "export"]
    },
    "communications": {
      "name": "Communications",
      "actions": ["read", "create", "update", "delete"]
    },
    "setup": {
      "name": "System Setup",
      "actions": ["read", "update"]
    }
  },

  "permissionHierarchy": {
    "SYSTEM_ADMIN": ["GROUP_ADMIN", "TRUST_ADMIN", "SCHOOL_ADMIN", "TEACHER", "ACCOUNTANT", "PARENT"],
    "GROUP_ADMIN": ["TRUST_ADMIN", "SCHOOL_ADMIN", "TEACHER", "ACCOUNTANT", "PARENT"],
    "TRUST_ADMIN": ["SCHOOL_ADMIN", "TEACHER", "ACCOUNTANT", "PARENT"],
    "SCHOOL_ADMIN": ["TEACHER", "ACCOUNTANT", "PARENT"],
    "TEACHER": [],
    "ACCOUNTANT": [],
    "PARENT": []
  },

  "routePermissions": {
    "/admin": ["SYSTEM_ADMIN", "GROUP_ADMIN"],
    "/setup": ["SYSTEM_ADMIN", "GROUP_ADMIN", "TRUST_ADMIN"],
    "/dashboard": ["*"],
    "/students": ["TRUST_ADMIN", "SCHOOL_ADMIN", "TEACHER", "PARENT"],
    "/fees": ["TRUST_ADMIN", "SCHOOL_ADMIN", "ACCOUNTANT", "PARENT"],
    "/attendance": ["TRUST_ADMIN", "SCHOOL_ADMIN", "TEACHER", "PARENT"],
    "/reports": ["SYSTEM_ADMIN", "GROUP_ADMIN", "TRUST_ADMIN", "SCHOOL_ADMIN", "TEACHER", "ACCOUNTANT"],
    "/users": ["SYSTEM_ADMIN", "GROUP_ADMIN", "TRUST_ADMIN", "SCHOOL_ADMIN"]
  },

  "contextRules": {
    "PARENT": {
      "canOnlyAccess": "own_children",
      "constraint": "student_id IN (SELECT id FROM students WHERE guardian_user_id = ?)"
    },
    "TEACHER": {
      "canOnlyAccess": "assigned_classes",
      "constraint": "class_id IN (SELECT class_id FROM teacher_class_assignments WHERE user_id = ?)"
    },
    "SCHOOL_ADMIN": {
      "canOnlyAccess": "own_school",
      "constraint": "school_id = ?"
    }
  }
}